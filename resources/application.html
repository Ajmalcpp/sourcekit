<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>SourceKit</title>
        <link rel="stylesheet" href="css/themes/claro/claro.css" />
        <link rel="stylesheet" href="css/application.css" />
        <script src="http://o.aolcdn.com/dojo/1.5.0/dojo/dojo.xd.js" djConfig="parseOnLoad:true"></script>
        <script>
            dojo.require("dijit.layout.BorderContainer");
            dojo.require("dijit.layout.ContentPane");
            dojo.require("dijit.layout.TabContainer");
        </script>
        
        <style type="text/css">
            body, html { width:100%; height:100%; margin:0; padding:0; overflow: hidden; }
            /* Dijit Layout */
            #borderContainer { width:100%; height:100% }
            #borderLeft {
                width: 200px; padding: 0;
            }
            #borderCenter {
                padding: 0;
            }
        </style>
    </head>
    <body class="claro">
        <div id="borderContainer" dojoType="dijit.layout.BorderContainer" gutters="false">
	        <div id="borderLeft" dojoType="dijit.layout.ContentPane" region="left" splitter="true">
                <div id="fileListToolbar"></div>
                <div id="fileListTree"></div>                
            </div>
	        <div id="borderCenter" dojoType="dijit.layout.ContentPane" region="center">
	            <div id="editorTabContainer" dojoType="dijit.layout.TabContainer" ></div>
	        </div>
        </div>
        <script src="../src/require.js"></script>
        <script>
        var deps = [
            "pilot/plugin_manager",
            "pilot/settings",
            "pilot/environment",
            "sourcekit/application"
        ];

        var plugins = [
            "pilot/index",
            "cockpit/index",
            "ace/defaults"
        ];
        
        require(deps, function(Application) {
            var catalog = require("pilot/plugin_manager").catalog;

            catalog.registerPlugins(plugins).then(function() {
                var env = require("pilot/environment").create();
                catalog.startupPlugins({ env: env }).then(function() {
                    require("sourcekit/application").start();
                });
            });
        });
        </script>
    </body>
</html>